<!DOCTYPE html>
<html lang="hi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>JeevansathiHu ‚Äì ‡§ú‡•Ä‡§µ‡§®‡§∏‡§æ‡§•‡•Ä ‡§π‡•Ç‡§Ç | Find Your Life Partner | Megha Films Pvt Ltd Betul MP</title>
<meta name="description" content="JeevansathiHu - Betul MP ‡§ï‡§æ ‡§∏‡§¨‡§∏‡•á ‡§≠‡§∞‡•ã‡§∏‡•á‡§Æ‡§Ç‡§¶ ‡§µ‡§ø‡§µ‡§æ‡§π ‡§™‡•ã‡§∞‡•ç‡§ü‡§≤‡•§ Verified profiles, private chat, complete privacy. By Megha Films Pvt Ltd.">
<script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600;700;900&family=Poppins:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
<style>
:root{--wine:#6d1e2a;--wine-light:#8b2d3a;--blush:#f8e1e7;--pink:#e91e63;--pink-light:#f06292;--gold:#D4AF37;--bg:#0a0a0a;--card:#111;--green:#25d366}
*{margin:0;padding:0;box-sizing:border-box;scroll-behavior:smooth}
body{background:var(--bg);color:#fff;font-family:'Poppins',sans-serif;overflow-x:hidden;min-height:100vh}
h1,h2,h3{font-family:'Playfair Display',serif}
::-webkit-scrollbar{width:4px}::-webkit-scrollbar-track{background:#111}::-webkit-scrollbar-thumb{background:var(--pink);border-radius:4px}

/* HEARTS */
.hearts-bg{position:fixed;inset:0;pointer-events:none;z-index:0;overflow:hidden}
.heart-p{position:absolute;font-size:14px;opacity:.08;animation:fh linear infinite}
@keyframes fh{0%{transform:translateY(110vh) rotate(0deg) scale(.5);opacity:0}15%{opacity:.1}85%{opacity:.08}100%{transform:translateY(-10vh) rotate(360deg) scale(1.2);opacity:0}}

/* NAV */
.jsh-nav{position:fixed;top:0;left:0;right:0;z-index:100;padding:10px 20px;transition:all .4s;background:rgba(10,10,10,.95);backdrop-filter:blur(20px);border-bottom:1px solid rgba(233,30,99,.05)}
.jsh-logo{font-family:'Playfair Display',serif;font-weight:800;font-size:clamp(.8rem,2.5vw,1.1rem);background:linear-gradient(135deg,#e91e63,#ff6090,#e91e63);-webkit-background-clip:text;-webkit-text-fill-color:transparent;cursor:pointer}

/* PAGES */
.page{display:none;min-height:100vh;position:relative;z-index:1}
.page.active{display:block}

/* HERO */
.jsh-hero{min-height:100vh;display:flex;align-items:center;justify-content:center;text-align:center;padding:80px 20px 40px;position:relative}
.hero-glow{position:absolute;top:30%;left:50%;transform:translate(-50%,-50%);width:400px;height:400px;background:radial-gradient(circle,rgba(233,30,99,.06),transparent 70%);border-radius:50%;filter:blur(60px)}
.hero-ring{width:200px;height:200px;border-radius:50%;border:2px solid rgba(233,30,99,.1);display:flex;align-items:center;justify-content:center;margin:0 auto 2rem;position:relative;animation:ring-pulse 4s ease-in-out infinite}
@keyframes ring-pulse{0%,100%{box-shadow:0 0 20px rgba(233,30,99,.05)}50%{box-shadow:0 0 40px rgba(233,30,99,.12)}}
.hero-ring svg{width:80px;height:80px}
.hero-ring::after{content:'';position:absolute;inset:-8px;border-radius:50%;border:1px solid rgba(233,30,99,.04);animation:ring-pulse 4s ease-in-out infinite .5s}

/* BUTTONS */
.btn{font-weight:600;padding:12px 28px;border-radius:60px;border:none;cursor:pointer;transition:all .3s;text-decoration:none;display:inline-flex;align-items:center;gap:8px;font-size:.82rem;font-family:'Poppins',sans-serif}
.btn:hover{transform:translateY(-2px)}
.btn-pink{background:linear-gradient(135deg,#e91e63,#c2185b);color:#fff}.btn-pink:hover{box-shadow:0 8px 25px rgba(233,30,99,.3)}
.btn-outline{border:1.5px solid rgba(233,30,99,.2);color:#e91e63;background:transparent}.btn-outline:hover{background:rgba(233,30,99,.05);border-color:#e91e63}
.btn-gold{background:linear-gradient(135deg,#D4AF37,#b8962e);color:#0a0a0a}.btn-gold:hover{box-shadow:0 8px 25px rgba(212,175,55,.3)}
.btn-green{background:linear-gradient(135deg,#25d366,#128c7e);color:#fff}.btn-green:hover{box-shadow:0 8px 25px rgba(37,211,102,.3)}
.btn-sm{padding:9px 18px;font-size:.72rem}
.btn-block{width:100%;justify-content:center}

/* CARDS */
.card{background:var(--card);border:1px solid rgba(255,255,255,.04);border-radius:16px;padding:1.5rem;transition:all .3s}
.card:hover{border-color:rgba(233,30,99,.08);box-shadow:0 8px 30px rgba(0,0,0,.2)}

/* FORM */
.fi{width:100%;padding:12px 14px;background:#0e0e0e;border:1px solid rgba(255,255,255,.06);border-radius:10px;color:#fff;font-size:.82rem;font-family:'Poppins',sans-serif;transition:all .3s;outline:none}
.fi:focus{border-color:rgba(233,30,99,.3);box-shadow:0 0 0 3px rgba(233,30,99,.04)}
.fl{display:block;font-size:.62rem;color:rgba(233,30,99,.5);margin-bottom:4px;font-weight:600;letter-spacing:.5px;text-transform:uppercase}
.fg{margin-bottom:.75rem}
select.fi{appearance:none;background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' fill='%23e91e63' viewBox='0 0 24 24'%3E%3Cpath d='M7 10l5 5 5-5z'/%3E%3C/svg%3E");background-repeat:no-repeat;background-position:right 12px center}
textarea.fi{resize:vertical}
.fi.err{border-color:rgba(255,68,68,.4)}

/* FILE UPLOAD */
.file-drop{border:2px dashed rgba(233,30,99,.12);border-radius:14px;padding:1.5rem;text-align:center;cursor:pointer;transition:all .3s;background:rgba(233,30,99,.01);position:relative;overflow:hidden}
.file-drop:hover{border-color:rgba(233,30,99,.25);background:rgba(233,30,99,.02)}
.file-drop.has-file{border-color:rgba(37,211,102,.2);background:rgba(37,211,102,.02)}
.file-drop input{position:absolute;inset:0;opacity:0;cursor:pointer}
.file-preview{width:60px;height:60px;border-radius:50%;object-fit:cover;border:2px solid rgba(233,30,99,.15);margin:0 auto .5rem;display:none}
.file-drop.has-file .file-preview{display:block}
.file-drop.has-file .file-placeholder{display:none}
.upload-progress{height:3px;background:#1a1a1a;border-radius:3px;margin-top:.5rem;overflow:hidden;display:none}
.upload-progress .bar{height:100%;background:linear-gradient(90deg,#e91e63,#ff6090);border-radius:3px;width:0;transition:width .3s}

/* PROFILE CARD */
.profile-card{background:var(--card);border:1px solid rgba(255,255,255,.04);border-radius:16px;overflow:hidden;transition:all .3s}
.profile-card:hover{border-color:rgba(233,30,99,.1);transform:translateY(-3px);box-shadow:0 12px 35px rgba(0,0,0,.25)}
.profile-img{width:100%;aspect-ratio:1;object-fit:cover;background:#0e0e0e}
.profile-body{padding:1rem}
.gender-badge{padding:2px 8px;border-radius:20px;font-size:.5rem;font-weight:700;display:inline-flex;align-items:center;gap:3px}
.gender-m{background:rgba(33,150,243,.1);color:#2196f3;border:1px solid rgba(33,150,243,.15)}
.gender-f{background:rgba(233,30,99,.1);color:#e91e63;border:1px solid rgba(233,30,99,.15)}
.verified-badge{background:rgba(37,211,102,.1);color:#25d366;border:1px solid rgba(37,211,102,.15);padding:2px 8px;border-radius:20px;font-size:.5rem;font-weight:700}

/* MATCH */
.match-pct{display:inline-flex;align-items:center;justify-content:center;width:38px;height:38px;border-radius:50%;font-size:.6rem;font-weight:800;border:2px solid}

/* CHAT */
.chat-container{display:flex;height:calc(100vh - 60px);margin-top:60px}
.chat-sidebar{width:300px;border-right:1px solid rgba(255,255,255,.04);overflow-y:auto;flex-shrink:0;background:#080808}
.chat-main{flex:1;display:flex;flex-direction:column;background:var(--bg)}
.chat-item{display:flex;align-items:center;gap:10px;padding:12px 14px;cursor:pointer;border-bottom:1px solid rgba(255,255,255,.02);transition:all .2s}
.chat-item:hover,.chat-item.active{background:rgba(233,30,99,.03)}
.chat-av{width:42px;height:42px;border-radius:50%;background:linear-gradient(135deg,#e91e63,#c2185b);display:flex;align-items:center;justify-content:center;flex-shrink:0;overflow:hidden;font-size:1rem}
.chat-av img{width:100%;height:100%;object-fit:cover}
.chat-hd{padding:12px 16px;border-bottom:1px solid rgba(255,255,255,.04);display:flex;align-items:center;gap:10px;background:#080808}
.chat-msgs{flex:1;overflow-y:auto;padding:16px;display:flex;flex-direction:column;gap:8px}
.chat-bubble{max-width:75%;padding:10px 14px;border-radius:16px;font-size:.78rem;line-height:1.5;animation:mb .3s ease}
@keyframes mb{from{opacity:0;transform:translateY(6px)}to{opacity:1;transform:translateY(0)}}
.chat-bubble.sent{background:linear-gradient(135deg,rgba(233,30,99,.12),rgba(233,30,99,.06));color:#fff;border-bottom-right-radius:4px;align-self:flex-end;border:1px solid rgba(233,30,99,.08)}
.chat-bubble.rcv{background:#151515;color:#bbb;border-bottom-left-radius:4px;align-self:flex-start;border:1px solid rgba(255,255,255,.03)}
.chat-bubble .time{font-size:.45rem;color:#444;margin-top:3px}
.chat-input{display:flex;gap:8px;padding:12px;border-top:1px solid rgba(255,255,255,.04);background:#080808}
.chat-input input{flex:1;padding:10px 16px;background:#111;border:1px solid rgba(255,255,255,.05);border-radius:24px;color:#fff;font-size:.78rem;outline:none;font-family:'Poppins',sans-serif}
.chat-input input:focus{border-color:rgba(233,30,99,.2)}
.chat-input button{width:40px;height:40px;border-radius:50%;background:linear-gradient(135deg,#e91e63,#c2185b);border:none;display:flex;align-items:center;justify-content:center;cursor:pointer;flex-shrink:0}
@media(max-width:768px){.chat-sidebar{width:100%}.chat-main{display:none}.chat-container.in-chat .chat-sidebar{display:none}.chat-container.in-chat .chat-main{display:flex}}

/* TABS */
.app-tabs{display:flex;background:#060606;border-bottom:1px solid rgba(255,255,255,.03);position:sticky;top:60px;z-index:50}
.app-tab{flex:1;padding:12px 4px;text-align:center;font-size:.58rem;font-weight:600;color:#444;cursor:pointer;border-bottom:2px solid transparent;transition:all .3s;background:none;border-top:none;border-left:none;border-right:none;font-family:'Poppins',sans-serif}
.app-tab.active{color:#e91e63;border-bottom-color:#e91e63}
.app-tab svg{display:block;margin:0 auto 3px;width:18px;height:18px}
.tab-content{display:none;padding:1rem;max-width:600px;margin:0 auto}.tab-content.active{display:block}

/* INTEREST SYSTEM */
.int-card{background:var(--card);border:1px solid rgba(255,255,255,.04);border-radius:14px;padding:1rem;display:flex;gap:12px;align-items:center;margin-bottom:.5rem;transition:all .3s}
.int-card:hover{border-color:rgba(233,30,99,.1)}

/* FEATURES */
.feat-card{background:var(--card);border:1px solid rgba(255,255,255,.04);border-radius:14px;padding:1.5rem;text-align:center;transition:all .3s}
.feat-card:hover{border-color:rgba(233,30,99,.08);transform:translateY(-2px)}
.feat-icon{width:50px;height:50px;border-radius:50%;background:rgba(233,30,99,.04);border:1px solid rgba(233,30,99,.08);display:flex;align-items:center;justify-content:center;margin:0 auto .75rem}

/* HOW IT WORKS */
.step-num{width:40px;height:40px;border-radius:50%;background:linear-gradient(135deg,#e91e63,#c2185b);color:#fff;display:flex;align-items:center;justify-content:center;font-weight:800;font-size:.85rem;flex-shrink:0}
.step-line{width:2px;height:30px;background:linear-gradient(to bottom,rgba(233,30,99,.2),transparent);margin:4px auto}

/* ADMIN */
.admin-overlay{position:fixed;inset:0;background:rgba(0,0,0,.97);z-index:200;display:none;overflow-y:auto}
.admin-panel{max-width:900px;margin:2rem auto;padding:1.5rem;background:#0c0c0c;border-radius:16px;border:1px solid rgba(233,30,99,.08)}

/* AUTH MODAL */
.auth-modal{position:fixed;inset:0;z-index:150;background:rgba(0,0,0,.92);display:none;align-items:center;justify-content:center;padding:1rem}
.auth-modal.active{display:flex}
.auth-card{max-width:440px;width:100%;background:#0e0e0e;border:1px solid rgba(233,30,99,.08);border-radius:20px;padding:2rem;max-height:90vh;overflow-y:auto;position:relative}

/* REVEAL */
.reveal{opacity:0;transform:translateY(16px);transition:all .7s ease}.reveal.visible{opacity:1;transform:translateY(0)}

/* MISC */
.section-tag{font-size:9px;letter-spacing:4px;text-transform:uppercase;color:#e91e63;font-weight:600;margin-bottom:8px;opacity:.6}
.pink-text{color:#e91e63}
.gold-text{color:#D4AF37}
.back-btn{background:none;border:none;color:#e91e63;cursor:pointer;font-size:1.1rem;padding:4px 8px;font-family:'Poppins',sans-serif}
.empty-state{text-align:center;padding:3rem 1rem;color:#333}
.empty-state svg{margin:0 auto 1rem;opacity:.3}
.dot-online{width:8px;height:8px;background:#25d366;border-radius:50%;border:2px solid #080808;position:absolute;bottom:0;right:0}
.toast{position:fixed;top:80px;right:20px;z-index:300;padding:12px 20px;border-radius:12px;font-size:.78rem;font-weight:600;animation:toast-in .4s ease;max-width:300px}
@keyframes toast-in{from{opacity:0;transform:translateX(20px)}to{opacity:1;transform:translateX(0)}}
.toast-success{background:rgba(37,211,102,.1);border:1px solid rgba(37,211,102,.15);color:#25d366}
.toast-error{background:rgba(255,68,68,.1);border:1px solid rgba(255,68,68,.15);color:#ff4444}
.privacy-note{background:rgba(255,152,0,.03);border:1px solid rgba(255,152,0,.08);border-radius:10px;padding:10px;margin-bottom:.75rem}
</style>
</head>
<body>

<!-- FLOATING HEARTS -->
<div class="hearts-bg" id="heartsBg"></div>

<!-- NAV -->
<nav class="jsh-nav">
<div class="max-w-6xl mx-auto flex items-center justify-between">
<div class="flex items-center gap-3">
<a href="index.html" class="text-gray-500 hover:text-white text-xs transition" title="Back to Megha Films">‚Üê Back</a>
<div class="jsh-logo" id="jshLogo" ondblclick="openJSHAdmin()">üíë JeevansathiHu</div>
</div>
<div class="flex items-center gap-2" id="navRight">
<button onclick="showAuthModal('login')" class="btn btn-outline btn-sm">Login</button>
<button onclick="showAuthModal('register')" class="btn btn-pink btn-sm">Register</button>
</div>
</div>
</nav>

<!-- ============ LANDING PAGE ============ -->
<div class="page active" id="pageLanding">
<div class="jsh-hero">
<div class="hero-glow"></div>
<div class="relative z-10">
<div class="hero-ring">
<svg viewBox="0 0 100 100" fill="none">
<path d="M30 70 C30 40 20 30 28 18 C32 10 38 7 42 7 C50 7 54 15 56 22" stroke="rgba(233,30,99,0.3)" stroke-width="1.5" fill="none"/>
<path d="M70 70 C70 40 80 30 72 18 C68 10 62 7 58 7 C50 7 46 15 44 22" stroke="rgba(233,30,99,0.3)" stroke-width="1.5" fill="none"/>
<ellipse cx="42" cy="12" rx="6" ry="8" stroke="rgba(233,30,99,0.2)" stroke-width="1" fill="none"/>
<ellipse cx="58" cy="12" rx="6" ry="8" stroke="rgba(233,30,99,0.2)" stroke-width="1" fill="none"/>
<circle cx="50" cy="50" r="3" fill="rgba(233,30,99,0.2)"><animate attributeName="r" values="3;5;3" dur="3s" repeatCount="indefinite"/><animate attributeName="opacity" values=".2;.5;.2" dur="3s" repeatCount="indefinite"/></circle>
<path d="M44 45 Q47 42 50 44 Q53 42 56 45" stroke="rgba(233,30,99,0.4)" stroke-width="1.5" fill="none" stroke-linecap="round"/>
</svg>
</div>
<p class="section-tag mb-3">BY MEGHA FILMS PVT LTD ‚Äî BETUL MP</p>
<h1 style="font-size:clamp(1.8rem,5vw,3rem);font-weight:900;line-height:1.2;margin-bottom:.75rem">
<span class="pink-text">‡§ú‡•Ä‡§µ‡§®‡§∏‡§æ‡§•‡•Ä</span> ‡§π‡•Ç‡§Ç
</h1>
<p class="text-gray-400 text-sm max-w-md mx-auto mb-2">Find Your Perfect Life Partner</p>
<p class="text-gray-600 text-xs max-w-md mx-auto mb-6">Verified ¬∑ Private ¬∑ Secure ‚Äî Betul, Multai, Itarsi, Chhindwara</p>
<div class="flex flex-wrap gap-3 justify-center mb-10">
<button onclick="showAuthModal('register')" class="btn btn-pink">üíë Register Free</button>
<button onclick="showAuthModal('login')" class="btn btn-outline">üîê Login</button>
</div>

<!-- FEATURES -->
<div class="grid grid-cols-2 md:grid-cols-4 gap-3 max-w-3xl mx-auto mb-12">
<div class="feat-card reveal"><div class="feat-icon"><svg width="20" height="20" fill="#e91e63" viewBox="0 0 24 24"><path d="M12 1L3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4z"/></svg></div><p class="text-xs font-bold">Verified</p><p class="text-[9px] text-gray-500">ID Verified Profiles</p></div>
<div class="feat-card reveal"><div class="feat-icon"><svg width="20" height="20" fill="#e91e63" viewBox="0 0 24 24"><path d="M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2z"/></svg></div><p class="text-xs font-bold">Private</p><p class="text-[9px] text-gray-500">Complete Privacy</p></div>
<div class="feat-card reveal"><div class="feat-icon"><svg width="20" height="20" fill="#e91e63" viewBox="0 0 24 24"><path d="M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2z"/></svg></div><p class="text-xs font-bold">Chat</p><p class="text-[9px] text-gray-500">Private Messaging</p></div>
<div class="feat-card reveal"><div class="feat-icon"><svg width="20" height="20" fill="#e91e63" viewBox="0 0 24 24"><path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/></svg></div><p class="text-xs font-bold">Match</p><p class="text-[9px] text-gray-500">Smart Matching</p></div>
</div>

<!-- HOW IT WORKS -->
<div class="max-w-md mx-auto text-left">
<h3 class="text-center text-sm font-bold pink-text mb-4" style="font-family:'Playfair Display',serif">‡§ï‡•à‡§∏‡•á ‡§ï‡§æ‡§Æ ‡§ï‡§∞‡§§‡§æ ‡§π‡•à?</h3>
<div class="flex gap-3 items-start mb-1 reveal"><div class="step-num">1</div><div><p class="text-xs font-bold">üìù Register ‡§ï‡§∞‡•á‡§Ç</p><p class="text-[10px] text-gray-500">‡§Ö‡§™‡§®‡•Ä ‡§ú‡§æ‡§®‡§ï‡§æ‡§∞‡•Ä ‡§î‡§∞ ‡§´‡§º‡•ã‡§ü‡•ã ‡§Ö‡§™‡§≤‡•ã‡§° ‡§ï‡§∞‡•á‡§Ç</p></div></div>
<div class="step-line"></div>
<div class="flex gap-3 items-start mb-1 reveal"><div class="step-num">2</div><div><p class="text-xs font-bold">‚úÖ Verification</p><p class="text-[10px] text-gray-500">ID Proof ‡§Ö‡§™‡§≤‡•ã‡§° ‡§ï‡§∞‡•á‡§Ç ‚Äî Admin verify ‡§ï‡§∞‡•á‡§ó‡§æ</p></div></div>
<div class="step-line"></div>
<div class="flex gap-3 items-start mb-1 reveal"><div class="step-num">3</div><div><p class="text-xs font-bold">üëÄ Profiles ‡§¶‡•á‡§ñ‡•á‡§Ç</p><p class="text-[10px] text-gray-500">‡§Ö‡§™‡§®‡•á ‡§™‡§∏‡§Ç‡§¶ ‡§ï‡•á ‡§™‡•ç‡§∞‡•ã‡§´‡§º‡§æ‡§á‡§≤ ‡§¨‡•ç‡§∞‡§æ‡§â‡§ú‡§º ‡§ï‡§∞‡•á‡§Ç</p></div></div>
<div class="step-line"></div>
<div class="flex gap-3 items-start mb-1 reveal"><div class="step-num">4</div><div><p class="text-xs font-bold">üí¨ Chat ‡§ï‡§∞‡•á‡§Ç</p><p class="text-[10px] text-gray-500">Interest ‡§≠‡•á‡§ú‡•á‡§Ç, Accept ‡§π‡•ã ‡§§‡•ã Chat ‡§∂‡•Å‡§∞‡•Ç!</p></div></div>
<div class="step-line"></div>
<div class="flex gap-3 items-start reveal"><div class="step-num">5</div><div><p class="text-xs font-bold">üíë ‡§∂‡§æ‡§¶‡•Ä ‡§ï‡§∞‡•á‡§Ç!</p><p class="text-[10px] text-gray-500">‡§î‡§∞ Megha Films ‡§∏‡•á Photography ‡§¨‡•Å‡§ï ‡§ï‡§∞‡•á‡§Ç üòä</p></div></div>
</div>

<div class="mt-10">
<p class="text-gray-600 text-[9px]">Powered by <a href="index.html" class="gold-text font-bold">MEGHA FILMS PVT LTD ‚Äî BETUL MP</a> ¬∑ üìû 8770324064</p>
</div>
</div>
</div>
</div>

<!-- ============ APP (After Login) ============ -->
<div class="page" id="pageApp">
<!-- App Tabs -->
<div class="app-tabs">
<button class="app-tab active" onclick="switchTab('tabBrowse',this)"><svg fill="currentColor" viewBox="0 0 24 24"><path d="M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3zm-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3zm0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5z"/></svg>Profiles</button>
<button class="app-tab" onclick="switchTab('tabInterests',this)"><svg fill="currentColor" viewBox="0 0 24 24"><path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/></svg>Interests</button>
<button class="app-tab" onclick="switchTab('tabChat',this)"><svg fill="currentColor" viewBox="0 0 24 24"><path d="M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2z"/></svg>Chat</button>
<button class="app-tab" onclick="switchTab('tabProfile',this)"><svg fill="currentColor" viewBox="0 0 24 24"><path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/></svg>Profile</button>
</div>

<!-- Browse Profiles -->
<div class="tab-content active" id="tabBrowse">
<h3 class="text-sm font-bold pink-text mb-3" style="font-family:'Playfair Display',serif">üë• ‡§™‡•ç‡§∞‡•ã‡§´‡§º‡§æ‡§á‡§≤ ‡§¶‡•á‡§ñ‡•á‡§Ç</h3>
<div id="profilesGrid" class="grid grid-cols-2 gap-3"></div>
</div>

<!-- Interests -->
<div class="tab-content" id="tabInterests">
<h3 class="text-sm font-bold pink-text mb-1" style="font-family:'Playfair Display',serif">üíï Interests</h3>
<p class="text-[9px] text-gray-500 mb-3">Received interest requests</p>
<div id="interestsList"></div>
</div>

<!-- Chat -->
<div class="tab-content" id="tabChat" style="max-width:100%;padding:0">
<div class="chat-container" id="chatContainer" style="height:calc(100vh - 110px)">
<div class="chat-sidebar" id="chatSidebar">
<div class="p-3 border-b border-gray-800/30"><h3 class="text-sm font-bold pink-text">üí¨ Messages</h3></div>
<div id="chatList"></div>
</div>
<div class="chat-main" id="chatMain">
<div class="chat-hd"><button class="back-btn" onclick="backFromChat()">‚Üê</button><div class="chat-av" id="chatPartnerAv">üë§</div><div class="flex-1"><p class="text-xs font-bold" id="chatPartnerName">...</p><p class="text-[9px] text-gray-500">Private Chat</p></div></div>
<div class="chat-msgs" id="chatMsgs"></div>
<div class="chat-input"><input type="text" id="msgInput" placeholder="Type message..." onkeydown="if(event.key==='Enter')sendMsg()"><button onclick="sendMsg()"><svg width="16" height="16" fill="#fff" viewBox="0 0 24 24"><path d="M2.01 21L23 12 2.01 3 2 10l15 2-15 2z"/></svg></button></div>
</div>
</div>
</div>

<!-- My Profile -->
<div class="tab-content" id="tabProfile">
<h3 class="text-sm font-bold pink-text mb-3" style="font-family:'Playfair Display',serif">üë§ ‡§Æ‡•á‡§∞‡§æ ‡§™‡•ç‡§∞‡•ã‡§´‡§º‡§æ‡§á‡§≤</h3>
<div id="myProfileView"></div>
</div>
</div>

<!-- ============ AUTH MODAL ============ -->
<div class="auth-modal" id="authModal">

<!-- REGISTER -->
<div class="auth-card" id="authRegister">
<button onclick="closeAuth()" class="absolute top-3 right-4 text-gray-500 hover:text-white text-xl cursor-pointer">&times;</button>
<h3 class="text-lg font-bold pink-text mb-1" style="font-family:'Playfair Display',serif">üìù Register ‡§ï‡§∞‡•á‡§Ç</h3>
<p class="text-gray-500 text-[10px] mb-3">‡§ú‡•Ä‡§µ‡§®‡§∏‡§æ‡§•‡•Ä ‡§π‡•Ç‡§Ç ‚Äî Megha Films Pvt Ltd, Betul MP</p>

<div class="privacy-note"><p class="text-[10px]" style="color:#ff9800;font-weight:600">üîí Privacy Notice</p><p class="text-[9px] text-gray-500 mt-1">‡§Ü‡§™‡§ï‡•Ä ‡§ú‡§æ‡§®‡§ï‡§æ‡§∞‡•Ä ‡§™‡•Ç‡§∞‡•Ä ‡§§‡§∞‡§π ‡§∏‡•Å‡§∞‡§ï‡•ç‡§∑‡§ø‡§§ ‡§∞‡§π‡•á‡§ó‡•Ä‡•§ ID Proof ‡§∏‡§ø‡§∞‡•ç‡§´ verification ‡§ï‡•á ‡§≤‡§ø‡§è‡•§ Chat ‡§™‡•Ç‡§∞‡•Ä ‡§§‡§∞‡§π private ‡§π‡•à‡•§</p></div>

<p class="text-[8px] pink-text font-bold uppercase tracking-wider border-b border-gray-800/30 pb-1 mb-2">Personal Details</p>
<div class="fg"><label class="fl">‡§™‡•Ç‡§∞‡§æ ‡§®‡§æ‡§Æ *</label><input type="text" id="regName" class="fi" placeholder="Full Name"></div>
<div class="grid grid-cols-2 gap-2">
<div class="fg"><label class="fl">‡§≤‡§ø‡§Ç‡§ó *</label><select id="regGender" class="fi"><option value="">-- ‡§ö‡•Å‡§®‡•á‡§Ç --</option><option value="male">‡§™‡•Å‡§∞‡•Å‡§∑ (Male)</option><option value="female">‡§Æ‡§π‡§ø‡§≤‡§æ (Female)</option></select></div>
<div class="fg"><label class="fl">‡§ú‡§®‡•ç‡§Æ ‡§§‡§ø‡§•‡§ø *</label><input type="date" id="regDOB" class="fi"></div>
</div>
<div class="grid grid-cols-2 gap-2">
<div class="fg"><label class="fl">‡§´‡§º‡•ã‡§® *</label><input type="tel" id="regPhone" class="fi" placeholder="10 digit" maxlength="10"></div>
<div class="fg"><label class="fl">‡§ú‡§ø‡§≤‡§æ *</label><select id="regDist" class="fi"><option value="">-- ‡§ú‡§ø‡§≤‡§æ --</option><option>Betul</option><option>Multai</option><option>Itarsi</option><option>Chhindwara</option><option>Hoshangabad</option><option>Nagpur</option><option>Other</option></select></div>
</div>
<div class="fg"><label class="fl">‡§∂‡§π‡§∞ / ‡§ó‡§æ‡§Å‡§µ *</label><input type="text" id="regCity" class="fi" placeholder="City / Village"></div>
<div class="grid grid-cols-2 gap-2">
<div class="fg"><label class="fl">‡§∂‡§ø‡§ï‡•ç‡§∑‡§æ</label><select id="regEdu" class="fi"><option value="">-- ‡§∂‡§ø‡§ï‡•ç‡§∑‡§æ --</option><option>10th</option><option>12th</option><option>Graduate</option><option>Post Graduate</option><option>Diploma</option><option>Other</option></select></div>
<div class="fg"><label class="fl">‡§µ‡•ç‡§Ø‡§µ‡§∏‡§æ‡§Ø</label><input type="text" id="regOcc" class="fi" placeholder="Occupation"></div>
</div>
<div class="fg"><label class="fl">‡§ß‡§∞‡•ç‡§Æ</label><select id="regReligion" class="fi"><option value="">-- ‡§ß‡§∞‡•ç‡§Æ --</option><option>Hindu</option><option>Muslim</option><option>Christian</option><option>Sikh</option><option>Buddhist</option><option>Jain</option><option>Other</option></select></div>
<div class="fg"><label class="fl">‡§Ö‡§™‡§®‡•á ‡§¨‡§æ‡§∞‡•á ‡§Æ‡•á‡§Ç</label><textarea id="regAbout" class="fi" rows="2" placeholder="Short bio..."></textarea></div>

<p class="text-[8px] pink-text font-bold uppercase tracking-wider border-b border-gray-800/30 pb-1 mb-2 mt-3">üì∏ Photos & Documents</p>

<div class="fg">
<label class="fl">‡§™‡•ç‡§∞‡•ã‡§´‡§º‡§æ‡§á‡§≤ ‡§´‡§º‡•ã‡§ü‡•ã * (Mobile ‡§∏‡•á select ‡§ï‡§∞‡•á‡§Ç)</label>
<div class="file-drop" id="dropPhoto">
<img class="file-preview" id="prevPhoto">
<div class="file-placeholder">
<svg width="28" height="28" fill="rgba(233,30,99,.3)" viewBox="0 0 24 24" style="margin:0 auto .3rem"><path d="M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z"/></svg>
<p class="text-[10px] text-gray-400">‡§´‡§º‡•ã‡§ü‡•ã ‡§ö‡•Å‡§®‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è tap ‡§ï‡§∞‡•á‡§Ç</p>
</div>
<input type="file" accept="image/*" onchange="previewFile(this,'prevPhoto','dropPhoto')">
<div class="upload-progress" id="progPhoto"><div class="bar"></div></div>
</div>
</div>

<div class="fg">
<label class="fl">ID Proof * (Aadhar/PAN/Voter ID)</label>
<div class="file-drop" id="dropID">
<img class="file-preview" id="prevID">
<div class="file-placeholder">
<svg width="28" height="28" fill="rgba(233,30,99,.3)" viewBox="0 0 24 24" style="margin:0 auto .3rem"><path d="M14 2H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V8l-6-6zm-1 7V3.5L18.5 9H13z"/></svg>
<p class="text-[10px] text-gray-400">ID Proof select ‡§ï‡§∞‡•á‡§Ç</p>
</div>
<input type="file" accept="image/*,.pdf" onchange="previewFile(this,'prevID','dropID')">
<div class="upload-progress" id="progID"><div class="bar"></div></div>
</div>
</div>

<p class="text-[8px] pink-text font-bold uppercase tracking-wider border-b border-gray-800/30 pb-1 mb-2 mt-3">üîê Login Details</p>
<div class="fg"><label class="fl">Email *</label><input type="email" id="regEmail" class="fi" placeholder="your@email.com"></div>
<div class="fg"><label class="fl">Password *</label><input type="password" id="regPass" class="fi" placeholder="Min 6 characters"></div>

<label class="flex items-start gap-2 my-3 cursor-pointer"><input type="checkbox" id="regTerms" class="mt-1 accent-pink-500"><p class="text-[10px] text-gray-400">‡§Æ‡•à‡§Ç <span class="pink-text font-bold">Terms & Privacy Policy</span> ‡§∏‡•á ‡§∏‡§π‡§Æ‡§§ ‡§π‡•Ç‡§Ç‡•§ ‡§Æ‡•á‡§∞‡•Ä ‡§ú‡§æ‡§®‡§ï‡§æ‡§∞‡•Ä verified ‡§î‡§∞ secure ‡§∞‡§π‡•á‡§ó‡•Ä‡•§</p></label>

<p id="regErr" class="text-red-400 text-xs mb-2" style="display:none"></p>
<button onclick="doRegister()" class="btn btn-pink btn-block">üíë Register ‡§ï‡§∞‡•á‡§Ç</button>
<p class="text-[10px] text-gray-500 mt-3 text-center">‡§™‡§π‡§≤‡•á ‡§∏‡•á ‡§Ö‡§ï‡§æ‡§â‡§Ç‡§ü ‡§π‡•à? <span class="pink-text font-bold cursor-pointer" onclick="showAuthModal('login')">Login ‡§ï‡§∞‡•á‡§Ç</span></p>
</div>

<!-- LOGIN -->
<div class="auth-card" id="authLogin" style="display:none">
<button onclick="closeAuth()" class="absolute top-3 right-4 text-gray-500 hover:text-white text-xl cursor-pointer">&times;</button>
<h3 class="text-lg font-bold pink-text mb-1" style="font-family:'Playfair Display',serif">üîê Login ‡§ï‡§∞‡•á‡§Ç</h3>
<p class="text-gray-500 text-[10px] mb-4">‡§ú‡•Ä‡§µ‡§®‡§∏‡§æ‡§•‡•Ä ‡§π‡•Ç‡§Ç ‚Äî ‡§Ö‡§™‡§®‡•á ‡§Ö‡§ï‡§æ‡§â‡§Ç‡§ü ‡§Æ‡•á‡§Ç ‡§≤‡•â‡§ó‡§ø‡§® ‡§ï‡§∞‡•á‡§Ç</p>
<div class="fg"><label class="fl">Email</label><input type="email" id="loginEmail" class="fi" placeholder="your@email.com"></div>
<div class="fg"><label class="fl">Password</label><input type="password" id="loginPass" class="fi" placeholder="Password"></div>
<p id="loginErr" class="text-red-400 text-xs mb-2" style="display:none"></p>
<button onclick="doLogin()" class="btn btn-pink btn-block">üîê Login</button>
<p class="text-[10px] text-gray-500 mt-3 text-center">‡§®‡§Ø‡§æ ‡§Ö‡§ï‡§æ‡§â‡§Ç‡§ü? <span class="pink-text font-bold cursor-pointer" onclick="showAuthModal('register')">Register ‡§ï‡§∞‡•á‡§Ç</span></p>
</div>
</div>

<!-- ============ ADMIN ============ -->
<div class="admin-overlay" id="adminOverlay">
<div class="admin-panel">
<div class="flex items-center justify-between mb-3">
<h2 class="text-sm font-bold pink-text">‚öôÔ∏è JeevansathiHu Admin</h2>
<button onclick="closeJSHAdmin()" class="text-gray-400 hover:text-white text-xl cursor-pointer">&times;</button>
</div>
<div class="flex gap-2 border-b border-gray-800/30 mb-3 overflow-x-auto">
<button class="app-tab active" onclick="adminTab('admProfiles',this)" style="border-top:0;border-left:0;border-right:0">Profiles</button>
<button class="app-tab" onclick="adminTab('admDocs',this)" style="border-top:0;border-left:0;border-right:0">Documents</button>
<button class="app-tab" onclick="adminTab('admChats',this)" style="border-top:0;border-left:0;border-right:0">Chats</button>
<button class="app-tab" onclick="adminTab('admStats',this)" style="border-top:0;border-left:0;border-right:0">Stats</button>
</div>
<div id="admProfiles"><p class="text-gray-500 text-xs">Loading...</p></div>
<div id="admDocs" style="display:none"><p class="text-gray-500 text-xs">Loading...</p></div>
<div id="admChats" style="display:none"><p class="text-gray-500 text-xs">Loading...</p></div>
<div id="admStats" style="display:none"><p class="text-gray-500 text-xs">Loading...</p></div>
</div>
</div>

<!-- TOAST -->
<div id="toastContainer"></div>

<!-- ============ SCRIPTS ============ -->
<script>
// HEARTS
(function(){const c=document.getElementById('heartsBg');const h=['üíï','‚ô•','üíó','‚ù§','üíñ','‚ú®'];for(let i=0;i<20;i++){const el=document.createElement('div');el.className='heart-p';el.textContent=h[i%h.length];el.style.left=Math.random()*100+'%';el.style.animationDuration=(Math.random()*15+10)+'s';el.style.animationDelay=(Math.random()*8)+'s';el.style.fontSize=(Math.random()*10+8)+'px';c.appendChild(el)}})();

// REVEAL
const rObs=new IntersectionObserver(es=>{es.forEach(e=>{if(e.isIntersecting)e.target.classList.add('visible')})},{threshold:.1});
document.querySelectorAll('.reveal').forEach(el=>rObs.observe(el));

// TOAST
function showToast(msg,type='success'){const c=document.getElementById('toastContainer');const t=document.createElement('div');t.className='toast toast-'+type;t.textContent=msg;c.appendChild(t);setTimeout(()=>t.remove(),3000)}

// AUTH MODAL
function showAuthModal(type){document.getElementById('authModal').classList.add('active');document.getElementById('authRegister').style.display=type==='register'?'block':'none';document.getElementById('authLogin').style.display=type==='login'?'block':'none'}
function closeAuth(){document.getElementById('authModal').classList.remove('active')}

// FILE PREVIEW
function previewFile(input,prevId,dropId){const file=input.files[0];if(!file)return;const prev=document.getElementById(prevId);const drop=document.getElementById(dropId);if(file.type.startsWith('image/')){const reader=new FileReader();reader.onload=e=>{prev.src=e.target.result;drop.classList.add('has-file')};reader.readAsDataURL(file)}else{drop.classList.add('has-file');prev.style.display='none';const p=drop.querySelector('.file-placeholder');if(p){p.innerHTML='<p class="text-xs text-green-400">‚úÖ '+file.name+'</p>';p.style.display='block'}}}

// COMPRESS IMAGE
function compressImage(file,maxW=800){return new Promise(resolve=>{if(!file.type.startsWith('image/')){resolve(file);return}const reader=new FileReader();reader.onload=e=>{const img=new Image();img.onload=()=>{const canvas=document.createElement('canvas');let w=img.width,h=img.height;if(w>maxW){h=h*maxW/w;w=maxW}if(h>maxW){w=w*maxW/h;h=maxW}canvas.width=w;canvas.height=h;canvas.getContext('2d').drawImage(img,0,0,w,h);canvas.toBlob(b=>resolve(b),'image/jpeg',0.8)};img.src=e.target.result};reader.readAsDataURL(file)})}

// PAGE ROUTING
let currentUser=null,currentProfile=null,chatPartner=null,chatUnsub=null;

function showPage(id){document.querySelectorAll('.page').forEach(p=>p.classList.remove('active'));document.getElementById(id).classList.add('active')}

function updateNav(){const nr=document.getElementById('navRight');if(currentUser&&currentProfile){nr.innerHTML='<span class="text-[9px] text-gray-400 mr-1">'+currentProfile.name+'</span><button onclick="doLogout()" class="btn btn-outline btn-sm">Logout</button>'}else{nr.innerHTML='<button onclick="showAuthModal(\'login\')" class="btn btn-outline btn-sm">Login</button><button onclick="showAuthModal(\'register\')" class="btn btn-pink btn-sm">Register</button>'}}

// APP TABS
function switchTab(id,btn){document.querySelectorAll('.tab-content').forEach(t=>t.classList.remove('active'));document.querySelectorAll('.app-tab').forEach(t=>t.classList.remove('active'));document.getElementById(id).classList.add('active');if(btn)btn.classList.add('active');if(id==='tabBrowse'&&window.loadProfiles)loadProfiles();if(id==='tabInterests'&&window.loadInterests)loadInterests();if(id==='tabChat')loadChatList();if(id==='tabProfile')renderMyProfile()}

// CHAT UI
function backFromChat(){document.getElementById('chatContainer').classList.remove('in-chat');if(chatUnsub){chatUnsub();chatUnsub=null}}

// ADMIN
function openJSHAdmin(){const pw=prompt('Admin Password:');if(pw==='MEGHA123'){document.getElementById('adminOverlay').style.display='block';document.body.style.overflow='hidden';if(window.loadAdminData)loadAdminData()}else if(pw)alert('Wrong password!')}
function closeJSHAdmin(){document.getElementById('adminOverlay').style.display='none';document.body.style.overflow=''}
function adminTab(id,btn){['admProfiles','admDocs','admChats','admStats'].forEach(t=>{document.getElementById(t).style.display=t===id?'block':'none'});btn.parentElement.querySelectorAll('.app-tab').forEach(b=>b.classList.remove('active'));btn.classList.add('active')}

// MY PROFILE
function renderMyProfile(){if(!currentProfile)return;const el=document.getElementById('myProfileView');const p=currentProfile;el.innerHTML=`
<div class="card">
<div class="flex gap-3 items-start mb-3">
<div style="width:70px;height:70px;border-radius:50%;overflow:hidden;flex-shrink:0;border:2px solid rgba(233,30,99,.15)">
${p.photoURL?'<img src="'+p.photoURL+'" style="width:100%;height:100%;object-fit:cover">':'<div style="width:100%;height:100%;background:#111;display:flex;align-items:center;justify-content:center;font-size:1.5rem">üë§</div>'}
</div>
<div>
<p style="font-size:1rem;font-weight:700">${p.name}</p>
<span class="${p.gender==='male'?'gender-m':'gender-f'} gender-badge">${p.gender==='male'?'‚ôÇ ‡§™‡•Å‡§∞‡•Å‡§∑':'‚ôÄ ‡§Æ‡§π‡§ø‡§≤‡§æ'}</span>
${p.verified?'<span class="verified-badge ml-1">‚úÖ Verified</span>':'<span class="text-[9px] text-orange-400 ml-1">‚è≥ Pending Verification</span>'}
<p style="font-size:.6rem;color:#e91e63;font-weight:700;font-family:monospace;margin-top:3px">Code: ${p.jshCode||'‚Äî'}</p>
</div>
</div>
<div class="grid grid-cols-2 gap-2 text-xs mb-3">
<div style="background:#0e0e0e;padding:8px;border-radius:8px"><p style="font-size:.5rem;color:#e91e63;text-transform:uppercase;letter-spacing:1px">‡§â‡§Æ‡•ç‡§∞</p><p style="font-weight:600">${calcAge(p.dob)} ‡§µ‡§∞‡•ç‡§∑</p></div>
<div style="background:#0e0e0e;padding:8px;border-radius:8px"><p style="font-size:.5rem;color:#e91e63;text-transform:uppercase;letter-spacing:1px">‡§ú‡§ø‡§≤‡§æ</p><p style="font-weight:600">${p.district||'‚Äî'}</p></div>
<div style="background:#0e0e0e;padding:8px;border-radius:8px"><p style="font-size:.5rem;color:#e91e63;text-transform:uppercase;letter-spacing:1px">‡§∂‡§π‡§∞</p><p style="font-weight:600">${p.city||'‚Äî'}</p></div>
<div style="background:#0e0e0e;padding:8px;border-radius:8px"><p style="font-size:.5rem;color:#e91e63;text-transform:uppercase;letter-spacing:1px">‡§∂‡§ø‡§ï‡•ç‡§∑‡§æ</p><p style="font-weight:600">${p.education||'‚Äî'}</p></div>
<div style="background:#0e0e0e;padding:8px;border-radius:8px"><p style="font-size:.5rem;color:#e91e63;text-transform:uppercase;letter-spacing:1px">‡§µ‡•ç‡§Ø‡§µ‡§∏‡§æ‡§Ø</p><p style="font-weight:600">${p.occupation||'‚Äî'}</p></div>
<div style="background:#0e0e0e;padding:8px;border-radius:8px"><p style="font-size:.5rem;color:#e91e63;text-transform:uppercase;letter-spacing:1px">‡§ß‡§∞‡•ç‡§Æ</p><p style="font-weight:600">${p.religion||'‚Äî'}</p></div>
</div>
${p.about?'<p style="font-size:.72rem;color:#888;padding:8px;background:#0e0e0e;border-radius:8px;margin-bottom:.75rem">'+p.about+'</p>':''}
<button onclick="doLogout()" class="btn btn-outline btn-block btn-sm mt-2">üîì Logout</button>
</div>`}

function calcAge(dob){if(!dob)return '‚Äî';const d=new Date(dob),n=new Date();let a=n.getFullYear()-d.getFullYear();if(n.getMonth()<d.getMonth()||(n.getMonth()===d.getMonth()&&n.getDate()<d.getDate()))a--;return a}
</script>

<!-- FIREBASE -->
<script type="module">
import{initializeApp}from"https://www.gstatic.com/firebasejs/10.14.0/firebase-app.js";
import{getAuth,createUserWithEmailAndPassword,signInWithEmailAndPassword,onAuthStateChanged,signOut}from"https://www.gstatic.com/firebasejs/10.14.0/firebase-auth.js";
import{getFirestore,collection,doc,setDoc,getDoc,getDocs,updateDoc,arrayUnion,arrayRemove,onSnapshot,deleteField}from"https://www.gstatic.com/firebasejs/10.14.0/firebase-firestore.js";
import{getStorage,ref as storageRef,uploadBytes,getDownloadURL}from"https://www.gstatic.com/firebasejs/10.14.0/firebase-storage.js";

const fc={apiKey:"AIzaSyBZ4fiuOImz0cQrM3njQbkgdCoiQ7MNHRw",authDomain:"cricb-736a2.firebaseapp.com",projectId:"cricb-736a2",storageBucket:"cricb-736a2.firebasestorage.app",messagingSenderId:"784188687178",appId:"1:784188687178:web:9ac6ef028c2256236837b3",measurementId:"G-CH7746MZ1Z"};

let app,auth,db,storage;
try{app=initializeApp(fc);auth=getAuth(app);db=getFirestore(app);storage=getStorage(app)}catch(e){console.error('Firebase init error:',e)}

// AUTH STATE
onAuthStateChanged(auth,async u=>{
if(u){
currentUser=u;
try{
const s=await getDoc(doc(db,'jeevanSathiHu',u.uid));
if(s.exists()){currentProfile=s.data();currentProfile.uid=u.uid;updateNav();closeAuth();showPage('pageApp');loadProfiles()}
else{showToast('Profile not found. Please register.','error');await signOut(auth);currentUser=null;currentProfile=null;updateNav();showPage('pageLanding')}
}catch(e){console.warn(e)}
}else{currentUser=null;currentProfile=null;updateNav();showPage('pageLanding')}
});

// REGISTER
window.doRegister=async function(){
const nm=document.getElementById('regName').value.trim();
const gn=document.getElementById('regGender').value;
const dob=document.getElementById('regDOB').value;
const ph=document.getElementById('regPhone').value.trim();
const di=document.getElementById('regDist').value;
const ci=document.getElementById('regCity').value.trim();
const ed=document.getElementById('regEdu').value;
const oc=document.getElementById('regOcc').value.trim();
const rl=document.getElementById('regReligion').value;
const ab=document.getElementById('regAbout').value.trim();
const em=document.getElementById('regEmail').value.trim();
const pw=document.getElementById('regPass').value;
const tm=document.getElementById('regTerms').checked;
const photoFile=document.querySelector('#dropPhoto input').files[0];
const idFile=document.querySelector('#dropID input').files[0];
const err=document.getElementById('regErr');

if(!nm||!gn||!dob||!ph||!di||!ci||!em||!pw){err.textContent='‡§∏‡§≠‡•Ä * ‡§´‡§º‡•Ä‡§≤‡•ç‡§° ‡§≠‡§∞‡•á‡§Ç!';err.style.display='block';return}
if(pw.length<6){err.textContent='Password ‡§ï‡§Æ ‡§∏‡•á ‡§ï‡§Æ 6 characters';err.style.display='block';return}
if(!/^\d{10}$/.test(ph)){err.textContent='‡§∏‡§π‡•Ä 10 digit ‡§´‡§º‡•ã‡§® ‡§®‡§Ç‡§¨‡§∞ ‡§°‡§æ‡§≤‡•á‡§Ç';err.style.display='block';return}
if(!photoFile){err.textContent='‡§™‡•ç‡§∞‡•ã‡§´‡§º‡§æ‡§á‡§≤ ‡§´‡§º‡•ã‡§ü‡•ã ‡§ú‡§º‡§∞‡•Ç‡§∞‡•Ä ‡§π‡•à!';err.style.display='block';return}
if(!idFile){err.textContent='ID Proof ‡§ú‡§º‡§∞‡•Ç‡§∞‡•Ä ‡§π‡•à!';err.style.display='block';return}
if(!tm){err.textContent='Terms & Privacy Policy ‡§∏‡•ç‡§µ‡•Ä‡§ï‡§æ‡§∞ ‡§ï‡§∞‡•á‡§Ç';err.style.display='block';return}

err.style.display='none';
showToast('Creating account...');

try{
const cred=await createUserWithEmailAndPassword(auth,em,pw);
const uid=cred.user.uid;
const code='JSH-'+Date.now().toString(36).toUpperCase();

// Upload photo
showProgress('progPhoto');
const compPhoto=await compressImage(photoFile,800);
const photoRef=storageRef(storage,'jeevansathihu/'+uid+'/profile-photo.jpg');
await uploadBytes(photoRef,compPhoto);
const photoURL=await getDownloadURL(photoRef);
completeProgress('progPhoto');

// Upload ID
showProgress('progID');
const idRef=storageRef(storage,'jeevansathihu/'+uid+'/id-proof'+(idFile.name.endsWith('.pdf')?'.pdf':'.jpg'));
if(idFile.type.startsWith('image/')){const compID=await compressImage(idFile,1200);await uploadBytes(idRef,compID)}
else{await uploadBytes(idRef,idFile)}
const idURL=await getDownloadURL(idRef);
completeProgress('progID');

// Save profile
const profileData={
name:nm,gender:gn,dob:dob,phone:ph,district:di,city:ci,
education:ed,occupation:oc,religion:rl,about:ab,email:em,
photoURL:photoURL,idProofURL:idURL,jshCode:code,
verified:false,interests:[],matches:[],blocked:[],
createdAt:new Date().toISOString()
};
await setDoc(doc(db,'jeevanSathiHu',uid),profileData);

currentUser=cred.user;
currentProfile=profileData;
currentProfile.uid=uid;
updateNav();closeAuth();showPage('pageApp');
showToast('üéâ Registration successful! Code: '+code);
loadProfiles();
}catch(e){
err.textContent=e.message.includes('email-already')?'Email ‡§™‡§π‡§≤‡•á ‡§∏‡•á registered ‡§π‡•à':e.message;
err.style.display='block';
showToast(err.textContent,'error');
}
};

function showProgress(id){const el=document.getElementById(id);el.style.display='block';el.querySelector('.bar').style.width='30%';setTimeout(()=>el.querySelector('.bar').style.width='70%',500)}
function completeProgress(id){const el=document.getElementById(id);el.querySelector('.bar').style.width='100%';setTimeout(()=>{el.style.display='none'},1000)}

// LOGIN
window.doLogin=async function(){
const em=document.getElementById('loginEmail').value.trim();
const pw=document.getElementById('loginPass').value;
const err=document.getElementById('loginErr');
if(!em||!pw){err.textContent='Email ‡§î‡§∞ Password ‡§°‡§æ‡§≤‡•á‡§Ç';err.style.display='block';return}
try{
await signInWithEmailAndPassword(auth,em,pw);
err.style.display='none';showToast('‚úÖ Login successful!');
}catch(e){err.textContent=e.message.includes('invalid')?'‡§ó‡§≤‡§§ Email ‡§Ø‡§æ Password':e.message;err.style.display='block'}
};

// LOGOUT
window.doLogout=async function(){
if(chatUnsub){chatUnsub();chatUnsub=null}
await signOut(auth);
showToast('Logged out');
};

// LOAD PROFILES (gender filtered)
window.loadProfiles=async function(){
if(!currentProfile)return;
const grid=document.getElementById('profilesGrid');
grid.innerHTML='<p class="text-gray-500 text-xs col-span-2 text-center py-4">Loading profiles...</p>';
try{
const snap=await getDocs(collection(db,'jeevanSathiHu'));
grid.innerHTML='';let count=0;
snap.forEach(d=>{
const p=d.data();const pid=d.id;
// Show only opposite gender, skip self, skip blocked
if(p.gender===currentProfile.gender||pid===currentProfile.uid)return;
if(currentProfile.blocked&&currentProfile.blocked.includes(pid))return;
count++;
const age=calcAge(p.dob);
const alreadyInterested=currentProfile.interests&&currentProfile.interests.includes(pid);
const isMatched=currentProfile.matches&&currentProfile.matches.includes(pid);

const card=document.createElement('div');
card.className='profile-card';
card.innerHTML=`
<div style="width:100%;aspect-ratio:1;overflow:hidden;background:#0e0e0e">
${p.photoURL?'<img src="'+p.photoURL+'" style="width:100%;height:100%;object-fit:cover" loading="lazy" alt="'+p.name+'">':'<div style="width:100%;height:100%;display:flex;align-items:center;justify-content:center;font-size:3rem">üë§</div>'}
</div>
<div class="profile-body">
<div class="flex items-center gap-1 mb-1">
<span class="${p.gender==='male'?'gender-m':'gender-f'} gender-badge">${p.gender==='male'?'‚ôÇ':'‚ôÄ'}</span>
${p.verified?'<span class="verified-badge">‚úÖ</span>':''}
</div>
<p class="text-xs font-bold">${p.name}</p>
<p style="font-size:.6rem;color:#888">${age} ‡§µ‡§∞‡•ç‡§∑ ¬∑ ${p.city||''}, ${p.district||''}</p>
${p.occupation?'<p style="font-size:.55rem;color:#666">üíº '+p.occupation+'</p>':''}
${isMatched?
'<button onclick="openChat(\''+pid+"','"+p.name.replace(/'/g,"\\'")+"','"+(p.photoURL||'')+'\')" class="btn btn-green btn-sm btn-block mt-2" style="font-size:.65rem">üí¨ Chat ‡§ï‡§∞‡•á‡§Ç</button>':
(alreadyInterested?
'<button disabled class="btn btn-outline btn-sm btn-block mt-2" style="font-size:.65rem;opacity:.5">‚úÖ Interest ‡§≠‡•á‡§ú‡§æ</button>':
'<button onclick="sendInterest(\''+pid+"','"+p.name.replace(/'/g,"\\'")+'\')" class="btn btn-pink btn-sm btn-block mt-2" style="font-size:.65rem">üíï Interest ‡§≠‡•á‡§ú‡•á‡§Ç</button>')}
</div>`;
grid.appendChild(card);
});
if(!count)grid.innerHTML='<div class="empty-state col-span-2"><svg width="40" height="40" fill="rgba(233,30,99,.2)" viewBox="0 0 24 24"><path d="M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3zm-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3z"/></svg><p class="text-gray-500 text-xs">‡§Ö‡§≠‡•Ä ‡§ï‡•ã‡§à ‡§™‡•ç‡§∞‡•ã‡§´‡§º‡§æ‡§á‡§≤ ‡§â‡§™‡§≤‡§¨‡•ç‡§ß ‡§®‡§π‡•Ä‡§Ç ‡§π‡•à</p></div>';
}catch(e){console.warn(e);grid.innerHTML='<p class="text-red-400 text-xs col-span-2 text-center">Error loading profiles</p>'}
};

// SEND INTEREST
window.sendInterest=async function(pid,pname){
if(!currentProfile)return;
try{
// Add to my interests array
await updateDoc(doc(db,'jeevanSathiHu',currentProfile.uid),{interests:arrayUnion(pid)});
// Create interest notification for the other person
const intId=currentProfile.uid+'_'+pid;
await setDoc(doc(db,'jsh-interests',intId),{
from:currentProfile.uid,fromName:currentProfile.name,fromPhoto:currentProfile.photoURL||'',fromGender:currentProfile.gender,
to:pid,toName:pname,status:'pending',createdAt:new Date().toISOString()
});
currentProfile.interests=currentProfile.interests||[];
currentProfile.interests.push(pid);
showToast('üíï Interest ‡§≠‡•á‡§ú‡§æ: '+pname);
loadProfiles();
}catch(e){console.warn(e);showToast('Error!','error')}
};

// LOAD INTERESTS (received)
window.loadInterests=async function(){
if(!currentProfile)return;
const list=document.getElementById('interestsList');
list.innerHTML='<p class="text-gray-500 text-xs text-center py-4">Loading...</p>';
try{
const snap=await getDocs(collection(db,'jsh-interests'));
list.innerHTML='';let count=0;
snap.forEach(d=>{
const int=d.data();
if(int.to!==currentProfile.uid||int.status!=='pending')return;
count++;
const card=document.createElement('div');
card.className='int-card';
card.innerHTML=`
<div class="chat-av">${int.fromPhoto?'<img src="'+int.fromPhoto+'">':'üë§'}</div>
<div class="flex-1">
<p class="text-xs font-bold">${int.fromName}</p>
<p style="font-size:.55rem;color:#888">‡§Ü‡§™‡§Æ‡•á‡§Ç Interest ‡§¶‡§ø‡§ñ‡§æ‡§Ø‡§æ ‡§π‡•à</p>
</div>
<div class="flex gap-1">
<button onclick="acceptInterest('${d.id}','${int.from}','${int.fromName.replace(/'/g,"\\'")}')" class="btn btn-pink btn-sm" style="font-size:.6rem;padding:6px 12px">‚úÖ Accept</button>
<button onclick="rejectInterest('${d.id}')" class="btn btn-outline btn-sm" style="font-size:.6rem;padding:6px 12px;border-color:rgba(255,68,68,.2);color:#ff4444">‚úï</button>
</div>`;
list.appendChild(card);
});
if(!count)list.innerHTML='<div class="empty-state"><svg width="40" height="40" fill="rgba(233,30,99,.2)" viewBox="0 0 24 24"><path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/></svg><p class="text-gray-500 text-xs">‡§ï‡•ã‡§à ‡§®‡§à Interest ‡§®‡§π‡•Ä‡§Ç</p></div>';
}catch(e){console.warn(e)}
};

// ACCEPT INTEREST
window.acceptInterest=async function(intId,fromUid,fromName){
try{
// Update interest status
await updateDoc(doc(db,'jsh-interests',intId),{status:'accepted'});
// Add to both users' matches
await updateDoc(doc(db,'jeevanSathiHu',currentProfile.uid),{matches:arrayUnion(fromUid)});
await updateDoc(doc(db,'jeevanSathiHu',fromUid),{matches:arrayUnion(currentProfile.uid)});
currentProfile.matches=currentProfile.matches||[];
currentProfile.matches.push(fromUid);
// Create chat document
const chatId=[currentProfile.uid,fromUid].sort().join('_');
await setDoc(doc(db,'jsh-chats',chatId),{
participants:[currentProfile.uid,fromUid],messages:[],createdAt:new Date().toISOString()
});
showToast('üéâ Match! ‡§Ö‡§¨ '+fromName+' ‡§∏‡•á chat ‡§ï‡§∞‡•á‡§Ç!');
loadInterests();
}catch(e){console.warn(e);showToast('Error!','error')}
};

// REJECT INTEREST
window.rejectInterest=async function(intId){
try{await updateDoc(doc(db,'jsh-interests',intId),{status:'rejected'});showToast('Interest rejected');loadInterests()}catch(e){console.warn(e)}
};

// CHAT LIST
window.loadChatList=async function(){
if(!currentProfile)return;
const list=document.getElementById('chatList');
list.innerHTML='<p class="text-gray-500 text-xs text-center py-4">Loading...</p>';
try{
const snap=await getDocs(collection(db,'jsh-chats'));
list.innerHTML='';let count=0;
for(const d of snap.docs){
const dt=d.data();
if(!dt.participants||!dt.participants.includes(currentProfile.uid))continue;
count++;
const pid=dt.participants.find(p=>p!==currentProfile.uid);
let pname='User',pphoto='';
try{const ps=await getDoc(doc(db,'jeevanSathiHu',pid));if(ps.exists()){pname=ps.data().name;pphoto=ps.data().photoURL||''}}catch(e){}
const lastMsg=dt.messages&&dt.messages.length?dt.messages[dt.messages.length-1].text:'‡§ï‡•ã‡§à message ‡§®‡§π‡•Ä‡§Ç';
const item=document.createElement('div');
item.className='chat-item';
item.onclick=()=>openChat(pid,pname,pphoto);
item.innerHTML=`<div class="chat-av">${pphoto?'<img src="'+pphoto+'">':'üë§'}</div><div class="flex-1 min-w-0"><p class="text-xs font-bold">${pname}</p><p style="font-size:.6rem;color:#555;white-space:nowrap;overflow:hidden;text-overflow:ellipsis">${lastMsg}</p></div>`;
list.appendChild(item);
}
if(!count)list.innerHTML='<div class="empty-state"><svg width="40" height="40" fill="rgba(233,30,99,.2)" viewBox="0 0 24 24"><path d="M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2z"/></svg><p class="text-gray-500 text-xs">‡§ï‡•ã‡§à chat ‡§®‡§π‡•Ä‡§Ç‡•§</p><p style="font-size:.55rem;color:#444">Profiles ‡§Æ‡•á‡§Ç Interest ‡§≠‡•á‡§ú‡•á‡§Ç, Accept ‡§π‡•ã‡§®‡•á ‡§™‡§∞ Chat ‡§∂‡•Å‡§∞‡•Ç ‡§π‡•ã‡§ó‡§æ!</p></div>';
}catch(e){console.warn(e)}
};

// OPEN CHAT
window.openChat=async function(pid,pname,pphoto){
chatPartner={uid:pid,name:pname,photo:pphoto};
document.getElementById('chatPartnerName').textContent=pname;
document.getElementById('chatPartnerAv').innerHTML=pphoto?'<img src="'+pphoto+'">':'üë§';
document.getElementById('chatContainer').classList.add('in-chat');

// Switch to chat tab
switchTab('tabChat',document.querySelectorAll('.app-tab')[2]);

const chatId=[currentProfile.uid,pid].sort().join('_');
const chatRef=doc(db,'jsh-chats',chatId);

try{const cs=await getDoc(chatRef);if(!cs.exists())await setDoc(chatRef,{participants:[currentProfile.uid,pid],messages:[],createdAt:new Date().toISOString()})}catch(e){console.warn(e)}

if(chatUnsub)chatUnsub();
chatUnsub=onSnapshot(chatRef,snap=>{
if(!snap.exists())return;
const msgs=snap.data().messages||[];
const mc=document.getElementById('chatMsgs');
mc.innerHTML='';
msgs.forEach(m=>{
const d=document.createElement('div');
d.className='chat-bubble '+(m.senderId===currentProfile.uid?'sent':'rcv');
d.innerHTML=m.text+'<div class="time">'+(m.time||'')+'</div>';
mc.appendChild(d);
});
mc.scrollTop=mc.scrollHeight;
});
};

// SEND MESSAGE
window.sendMsg=async function(){
if(!currentProfile||!chatPartner)return;
const inp=document.getElementById('msgInput');
const txt=inp.value.trim();
if(!txt)return;
inp.value='';
const chatId=[currentProfile.uid,chatPartner.uid].sort().join('_');
const msg={senderId:currentProfile.uid,senderName:currentProfile.name,text:txt,time:new Date().toLocaleTimeString('en-IN',{hour:'2-digit',minute:'2-digit'})};
try{await updateDoc(doc(db,'jsh-chats',chatId),{messages:arrayUnion(msg)})}catch(e){console.warn(e);showToast('Send failed','error')}
};

// ADMIN DATA
window.loadAdminData=async function(){
try{
// Profiles
const snap=await getDocs(collection(db,'jeevanSathiHu'));
const pp=document.getElementById('admProfiles');
const dd=document.getElementById('admDocs');
const ss=document.getElementById('admStats');
let males=0,females=0,verified=0,total=0;

let profHtml='<div class="overflow-x-auto"><table class="w-full text-[9px]"><thead><tr class="text-left border-b border-gray-800" style="color:#e91e63"><th class="p-2">Photo</th><th class="p-2">Code</th><th class="p-2">Name</th><th class="p-2">Gender</th><th class="p-2">Age</th><th class="p-2">Phone</th><th class="p-2">Location</th><th class="p-2">Status</th><th class="p-2">Actions</th></tr></thead><tbody>';
let docsHtml='<div class="space-y-2">';

snap.forEach(d=>{
const p=d.data();total++;
if(p.gender==='male')males++;else females++;
if(p.verified)verified++;
const age=calcAge(p.dob);

profHtml+=`<tr class="border-b border-gray-900">
<td class="p-2"><div style="width:32px;height:32px;border-radius:50%;overflow:hidden">${p.photoURL?'<img src="'+p.photoURL+'" style="width:100%;height:100%;object-fit:cover">':'üë§'}</div></td>
<td class="p-2 font-bold" style="color:#e91e63;font-family:monospace">${p.jshCode||'‚Äî'}</td>
<td class="p-2 text-gray-300">${p.name}</td>
<td class="p-2">${p.gender==='male'?'<span class="gender-m gender-badge">‚ôÇ</span>':'<span class="gender-f gender-badge">‚ôÄ</span>'}</td>
<td class="p-2 text-gray-400">${age}</td>
<td class="p-2 text-gray-300">${p.phone}</td>
<td class="p-2 text-gray-400">${p.city||''}, ${p.district||''}</td>
<td class="p-2">${p.verified?'<span class="verified-badge">‚úÖ</span>':'<span class="text-orange-400">‚è≥</span>'}</td>
<td class="p-2"><button onclick="verifyProfile('${d.id}')" class="text-green-400 text-[8px] mr-1 cursor-pointer" style="background:none;border:none;font-family:Poppins">‚úÖVerify</button></td>
</tr>`;

docsHtml+=`<div class="card" style="padding:.75rem">
<div class="flex gap-2 items-center mb-2">
<div style="width:36px;height:36px;border-radius:50%;overflow:hidden">${p.photoURL?'<img src="'+p.photoURL+'" style="width:100%;height:100%;object-fit:cover">':'üë§'}</div>
<div><p class="text-xs font-bold">${p.name}</p><p style="font-size:.55rem;color:#e91e63">${p.jshCode||'‚Äî'} ¬∑ ${p.gender}</p></div>
</div>
<div class="flex gap-2">
${p.photoURL?'<a href="'+p.photoURL+'" target="_blank" class="btn btn-outline btn-sm" style="font-size:.55rem;padding:4px 10px">üì∑ Photo</a>':''}
${p.idProofURL?'<a href="'+p.idProofURL+'" target="_blank" class="btn btn-outline btn-sm" style="font-size:.55rem;padding:4px 10px">üìé ID Proof</a>':''}
</div></div>`;
});

profHtml+='</tbody></table></div>';
docsHtml+='</div>';
pp.innerHTML=profHtml;
dd.innerHTML=docsHtml;

ss.innerHTML=`<div class="grid grid-cols-2 md:grid-cols-4 gap-3">
<div class="card text-center"><p class="text-2xl font-bold pink-text" style="font-family:'Playfair Display',serif">${total}</p><p class="text-[9px] text-gray-500">Total Profiles</p></div>
<div class="card text-center"><p class="text-2xl font-bold" style="color:#2196f3;font-family:'Playfair Display',serif">${males}</p><p class="text-[9px] text-gray-500">Male ‚ôÇ</p></div>
<div class="card text-center"><p class="text-2xl font-bold pink-text" style="font-family:'Playfair Display',serif">${females}</p><p class="text-[9px] text-gray-500">Female ‚ôÄ</p></div>
<div class="card text-center"><p class="text-2xl font-bold" style="color:#25d366;font-family:'Playfair Display',serif">${verified}</p><p class="text-[9px] text-gray-500">Verified ‚úÖ</p></div>
</div>`;

// Chats
const chatSnap=await getDocs(collection(db,'jsh-chats'));
const cc=document.getElementById('admChats');
let chatHtml='<div class="space-y-2">';let chatCount=0;
chatSnap.forEach(d=>{
const dt=d.data();chatCount++;
const msgCount=dt.messages?dt.messages.length:0;
chatHtml+=`<div class="card" style="padding:.75rem"><p class="text-xs text-gray-300">Chat: ${d.id.substring(0,12)}...</p><p style="font-size:.55rem;color:#888">${msgCount} messages ¬∑ ${dt.participants?dt.participants.length:0} participants</p></div>`;
});
chatHtml+='</div>';
cc.innerHTML=chatCount?chatHtml:'<p class="text-gray-500 text-xs text-center py-4">No chats yet</p>';

}catch(e){console.warn(e);document.getElementById('admProfiles').innerHTML='<p class="text-red-400 text-xs">Error loading data</p>'}
};

// VERIFY PROFILE
window.verifyProfile=async function(uid){
try{await updateDoc(doc(db,'jeevanSathiHu',uid),{verified:true});showToast('‚úÖ Profile verified!');loadAdminData()}catch(e){showToast('Error','error')}
};
</script>
</body>
</html>
